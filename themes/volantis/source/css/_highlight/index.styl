// https://github.com/equinusocio/vsc-material-theme
@require 'theme'
@require 'diff'


.highlight
  position: relative
  width: 100%
  max-height: 500px
  overflow: auto
  margin: $gap-line 0
  display: block
  background: $color-codeblock
  box-shadow:0px 0px 10px #ccc
  font-size: $fontsize-code
  font-family: $fontfamily-code
  border-radius: $border-codeblock
  border: 1px solid darken($color-codeblock, 6)
  trans()
  figcaption
    position: sticky
    left: 0
    padding: $gap * 0.25 $gap * 0.5 $gap * 0.25 $gap * 0.5
    background-color: darken($color-codeblock, 5%)

    :after
      content: " "
      position: absolute
      border-radius: 50%
      background: #fc625d
      width: 12px
      height: 12px
      top: 0
      left: 10px
      margin-top: 7px
      -webkit-box-shadow: 20px 0 #fdbc40, 40px 0 #35cd4b
      box-shadow: 20px 0 #fdbc40, 40px 0 #35cd4b

  table
    overflow: auto
    display: block
    td,th
      padding: 0
      border: none
    margin: 0
    background-color: transparent
    border: none
    tr
      background-color: transparent
      &:hover
        background-color: transparent


    .gutter
      disable-user-select()
      padding: 0 12px
      text-align: right
      border-width: 0
      margin-left: 0
      position: sticky
      left: 0
      background-color: darken($color-codeblock, 5%)
      pre
        color: $color-meta


    pre
      background: transparent
      margin: 0
      padding: 0
      border: none
      overflow-y: hidden

    .code
      padding: $gap
      vertical-align: top
      background-color: transparent
      &:before
        content: ""
        position: absolute
        top: 0
        right: 0
        color: $color-meta
        font-size: $fontsize-footnote
        padding: 4px 8px

  if hexo-config('style.body.highlight.language') == true
    &.html .code:before
        content: "HTML"

    &.js .code:before
        content: "JavaScript"

    &.javascript .code:before
        content: "JavaScript"

    &.bash .code:before
        content: "bash"

    &.rust .code:before
        content: "Rust"

    &.shell .code:before
        content: "shell"

    &.css .code:before
        content: "CSS"

    &.less .code:before
        content: "Less"

    &.stylus .code:before
        content: "Stylus"

    &.swift .code:before
        content: "Swift"

    &.ruby .code:before
        content: "Ruby"

    &.php .code:before
        content: "PHP"

    &.markdown .code:before
        content: "Markdown"

    &.md .code:before
        content: "Markdown"

    &.makefile .code:before
        content: "Makefile"

    &.go .code:before
        content: "Go"

    &.ini .code:before
        content: "ini"

    &.objc .code:before
        content: "Objective-C"

    &.objectivec .code:before
        content: "Objective-C"

    &.c .code:before
        content: "C"

    &.cpp .code:before
        content: "C++"

    &.java .code:before
        content: "Java"

    &.python .code:before
        content: "Python"

    &.typescript .code:before
        content: "TypeScript"

    &.yaml .code:before
        content: "YAML"

    &.json .code:before
        content: "JSON"

    &.sql .code:before
        content: "SQL"

    &.plain .code:before
        content: "text"


  &::-webkit-scrollbar
    height: 6px
    width: 6px
  &::-webkit-scrollbar-track-piece
    background: transparent
  &::-webkit-scrollbar-thumb
    background: alpha($color-text, .3)
    cursor: pointer
    border-radius: $border-codeblock
    trans()
    &:hover
      background: alpha($color-text, .6)




$hl-keyword = #9c27b0
$hl-blue = #1E80F0
$hl-cyan = #17AFCA
$hl-green = #3FA33F
$hl-light-blue = #6ECDF9
$hl-red = #EE2B29
$hl-orange = #FB3F1B
$hl-amber = #FD8607

$lhk-keyword = #859900
$lhk-type = #dc322f
$lhk-number = #2aa198
$lhk-function = #268bd2
$lhk-comment = #93a1a1
$lhk-class = #b58900
$lhk-header = #cb4b16

pre
  // 行
  // line-height: 1.5
  .line, .regexp, .params
    color: #657b83

  .marked
    background-color: alpha(#FED542, 40%)
    padding: 2px 8px 2px 0
    border-radius: 2px
    width: 100%

  .function .title, .section, .selector-class
    color: $lhk-function

  .class .title
    color: $lhk-class

  // 注释
  .comment
    color: $lhk-comment

  .keyword, .javascript .function, .selector-tag
    color: $lhk-keyword

  .type, .built_in, .tag .name
    color: $lhk-type

  .variable, .attribute, .attr, .ruby .constant, .xml .tag .title, .xml .pi, .xml .doctype, .html .doctype, .css .id, .css .class, .css .pseudo
    color: $lhk-class

  .number, .preprocessor, .literal, .constant, .meta-string
    color: $lhk-number

  .class, .class, .css .rules .attribute
    color: $lhk-class

  .string
    color: $lhk-number

  .value, .inheritance, .header, .ruby .symbol, .xml .cdata, .meta-keyword, .selector-attr, .subst
    color: $lhk-header

  .css .hexcolor
    color: #66cccc

  .function, .python .decorator, .python .title, .ruby .function .title, .ruby .title .keyword, .perl .sub, .javascript .title, .coffeescript .title
    color: $lhk-header



.html
  .tag .name
    color: $lhk-function

.highlight.cpp, .highlight.objc, .highlight.objectivec, .highlight.swift, .highlight.makefile, .highlight.python, .highlight.javascript, .highlight.js
  .line
    .meta
      color: $lhk-header
    .meta-string
      color: $lhk-string

.code-block-fullscreen 
  position fixed !important
  top 0 !important
  left 0 !important
  width 100% !important
  height 100% !important
  max-height none
  min-width 100% !important
  z-index 9999999 !important
  margin 0 !important
  animation elastic 3s !important
.code-block-fullscreen-html-scroll 
  overflow hidden
.code-block-fullscreen-overflow-auto 
  overflow auto
.code-block-fullscreen-gutter 
  height calc(97vh) !important
  padding 16px 12px !important
  vertical-align top !important
